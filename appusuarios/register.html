<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Compiled and minified CSS -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<style>
	label{
	font-weight:bold;
	font-size: 15px;
	color: #000;
	}
</style>
</head>
<body>
	<div class="container text-center">
		<img src="image/icon.png" width="150px;" height="150px;" class="mt-5 mb-5">
		<h4>Registro</h4>
		<div class="container rounded shadow-sm pt-3">
			<div class="mt-4">
				<div class="form-group">
					<div class="text-left">
						<label for="exampleInputEmail1">Correo electrónico</label>
					</div> 
					<input type="email" class="form-control" id="email" aria-describedby="emailHelp">
    
				</div>
				<div class="form-group">
					<div class="text-left">
						<label for="exampleInputEmail1">Contraseña</label>
					</div>
					<input type="password" class="form-control" id="password">
				</div>
				<div class="form-check">
					<input type="checkbox" class="form-check-input" id="condition">
					<small class="form-check-label" for="exampleCheck1">Al registrarse usted autoriza a que el servicio GTHealth System y la Municipalidad de Panajachel capte y almacene datos de las ubicaciones en las cuales ha estado.</small>
				</div>

  
			</div>
			<button type="button" class="btn btn-primary" style="width:100%;" onclick="register();">Registrarse</button>
			<br><br>
			<div class="text-center mb-5">
			<br><br>
			</div>
		</div>
	</div>

 <!-- Insert these scripts at the bottom of the HTML, but before you use any Firebase services -->

  <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
	<script src="https://www.gstatic.com/firebasejs/6.2.0/firebase-app.js"></script>
	<script src="js/init.js"></script>
	<!-- Add Firebase products that you want to use -->
	<script src="https://www.gstatic.com/firebasejs/6.2.0/firebase-auth.js"></script>
	<script src="https://www.gstatic.com/firebasejs/6.2.0/firebase-firestore.js"></script>
<script>
function register(){
	var condition = document.getElementById('condition');
	if(condition.checked==true){
		var email = document.getElementById('email').value;
		var password = document.getElementById('password').value;
		firebase.auth().createUserWithEmailAndPassword(email, password).catch(function(error) {
		// Handle Errors here.
			var errorCode = error.code;
			var errorMessage = error.message;
			if(errorCode!=null){
				alert(errorMessage)
			}
  // ...
		});

	}else{
		alert('Para usar este servicio tiene que aceptar los términos.')
	}	
}


firebase.auth().onAuthStateChanged(function(user) {
	if (user) {
    // User is signed in.
		window.location.href = "index.html";
    // ...
	} else {
    // User is signed out.
    // ...
	}
});
</script>
</body>
</html>